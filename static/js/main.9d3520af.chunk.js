(this.webpackJsonpkelly=this.webpackJsonpkelly||[]).push([[0],{64:function(e,t,a){},65:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(13),i=a.n(s),l=(a(64),a(33)),o=a(18),r=a(15),u=a(1),d=a(55),b=a(16),j=a(50),m=a(51),f=function(){function e(){Object(j.a)(this,e)}return Object(m.a)(e,[{key:"getStocks",value:function(){return fetch("stock.json").then((function(e){return e.json()})).then((function(e){return e.data}))}}]),e}(),h=a(54),p=a(10),O=a(52),x=a(27),v=a(32),g=a(42),y=a(28),N=(a(65),a(2)),S=function(){var e={id:null,code:"0000",confidence:.2,ratio:0,win:1,loss:1,asset_allocation:0,roi:0,asset_money:0},t=Object(n.useState)([]),a=Object(r.a)(t,2),s=a[0],i=a[1],j=Object(n.useState)(null),m=Object(r.a)(j,2),S=m[0],w=m[1],k=Object(n.useState)(!1),C=Object(r.a)(k,2),F=C[0],L=C[1],P=Object(n.useState)(!1),_=Object(r.a)(P,2),D=_[0],T=_[1],U=Object(n.useState)(!1),M=Object(r.a)(U,2),R=M[0],I=M[1],V=Object(n.useState)(e),q=Object(r.a)(V,2),W=q[0],A=q[1],E=Object(n.useState)(null),H=Object(r.a)(E,2),z=H[0],B=H[1],J=Object(n.useState)(!1),Y=Object(r.a)(J,2),K=Y[0],G=Y[1],Q=Object(n.useState)(null),X=Object(r.a)(Q,2),Z=X[0],$=X[1],ee=Object(n.useRef)(null),te=Object(n.useRef)(null),ae=new f;Object(n.useEffect)((function(){ae.getStocks().then((function(e){return i(e)}))}),[]);var ne=function(e){return e.toLocaleString("en-US",{style:"percent"})},ce=function(e){return e.toLocaleString("en-US",{style:"percent",minimumFractionDigits:2})},se=function(){S?(A(e),re()):ee.current.show({severity:"warn",summary:"Warning",detail:"The money value must be provided",life:3e3})},ie=function(){G(!1),L(!1)},le=function(){T(!1)},oe=function(){I(!1)},re=function(){if(W.code){if(G(!0),W.code.trim()){var t=Object(o.a)(s),a=Object(l.a)({},W);if(W.id)t[ue(W.id)]=a,ee.current.show({severity:"success",summary:"Successful",detail:"Stock Updated",life:3e3});else a.id=de(),a.image="product-placeholder.svg",t.push(a),ee.current.show({severity:"success",summary:"Successful",detail:"Stock Created",life:3e3});i(t),L(!1),A(e)}}else ee.current.show({severity:"warn",summary:"Warning",detail:"The stock code must be provided",life:3e3})},ue=function(e){for(var t=-1,a=0;a<s.length;a++)if(s[a].id===e){t=a;break}return t},de=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<5;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},be=function(){te.current.exportCSV()},je=function(){I(!0)},me=function(e){var t=e.confidence-(1-e.confidence)/(e.win/e.loss);return t<0?0:t};var fe=function(e,t){return e/t.reduce((function(e,t){return e+t}))},he=function(e,t){return e*(1+t)},pe=function(e,t){var a=e.ratio,n=e.confidence,c=Object(o.a)(s);c[t].ratio=a,c[t].confidence=n;var i=c.map((function(e){return e.ratio})),l=fe(a,i),r=he(l,n);e.roi=r,e.asset_allocation=l,e.asset_money=S*l,c[t].roi=r,c[t].asset_allocation=l,c[t].asset_money=S*l,Oe(c,i,t),A(e)},Oe=function(e,t,a){for(var n=0;n<e.length;n++)if(n!==a){var c=e[n].ratio,s=e[n].confidence,i=fe(c,t),l=he(i,s);e[n].asset_allocation_value=i,e[n].roi=l,e[n].asset_money=S*i}return e},xe=function(e,t){var a=e.value||0,n=Object(l.a)({},W),c=ue(W.id);n["".concat(t)]=a,n.ratio=me({confidence:n.confidence,win:n.win,loss:n.loss}),A(n),pe(n,c)},ve=Object(N.jsxs)("div",{className:"table-header",children:[Object(N.jsx)("h5",{className:"p-mx-0 p-my-1",children:"Manage Stocks"}),Object(N.jsxs)("span",{className:"p-input-icon-left",children:[Object(N.jsx)(v.a,{id:"inputMoney",placeholder:"Input money...",min:0,value:S,onValueChange:function(e){return w(e.value)},mode:"currency",currency:"USD",locale:"en-US",required:!0,className:Object(u.h)({"p-invalid":!S})}),!S&&Object(N.jsx)("small",{className:"p-error",children:"Money is required."})]}),Object(N.jsxs)("span",{className:"p-input-icon-left",children:[Object(N.jsx)("i",{className:"pi pi-search"}),Object(N.jsx)(y.a,{type:"search",onInput:function(e){return $(e.target.value)},placeholder:"Search..."})]})]}),ge=Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)(p.a,{label:"Cancel",icon:"pi pi-times",className:"p-button-text",onClick:ie}),Object(N.jsx)(p.a,{label:"Save",icon:"pi pi-check",className:"p-button-text",onClick:re})]}),ye=Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)(p.a,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:le}),Object(N.jsx)(p.a,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){var t=s.filter((function(e){return e.id!==W.id}));i(t),T(!1),A(e),ee.current.show({severity:"success",summary:"Successful",detail:"Stock Deleted",life:3e3})}})]}),Ne=Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)(p.a,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:oe}),Object(N.jsx)(p.a,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){var e=s.filter((function(e){return!z.includes(e)}));i(e),I(!1),B(null),ee.current.show({severity:"success",summary:"Successful",detail:"Stocks Deleted",life:3e3})}})]});return Object(N.jsxs)("div",{className:"datatable-crud-demo",children:[Object(N.jsx)(h.a,{ref:ee}),Object(N.jsxs)("div",{className:"card",children:[Object(N.jsx)(O.a,{className:"p-mb-4",left:function(){return Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)(p.a,{label:"New",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:se}),Object(N.jsx)(p.a,{label:"Delete",icon:"pi pi-trash",className:"p-button-danger",onClick:je,disabled:!z||!z.length})]})},right:function(){return Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)(p.a,{label:"Export",icon:"pi pi-upload",className:"p-button-help",onClick:be})})}}),Object(N.jsxs)(d.a,{ref:te,value:s,selection:z,onSelectionChange:function(e){return B(e.value)},dataKey:"id",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} stocks",globalFilter:Z,header:ve,responsiveLayout:"scroll",children:[Object(N.jsx)(b.a,{selectionMode:"multiple",headerStyle:{width:"3rem"},exportable:!1}),Object(N.jsx)(b.a,{field:"id",header:"ID",sortable:!0,className:"datatable-column",hidden:!0}),Object(N.jsx)(b.a,{field:"code",header:"\u80a1\u7968\u4ee3\u865f",sortable:!0,className:"datatable-column"}),Object(N.jsx)(b.a,{field:"confidence",header:"\u4fe1\u5fc3\u5ea6",sortable:!0,body:function(e){return ne(e.confidence)},className:"datatable-column"}),Object(N.jsx)(b.a,{field:"ratio",header:"\u5efa\u8b70\u6bd4\u4f8b",sortable:!0,body:function(e){return ne(e.ratio)},className:"datatable-column"}),Object(N.jsx)(b.a,{field:"win",header:"\u505c\u5229",sortable:!0,body:function(e){return ne(e.win/100)},className:"datatable-column"}),Object(N.jsx)(b.a,{field:"loss",header:"\u505c\u640d",sortable:!0,body:function(e){return ne(e.loss/100)},className:"datatable-column"}),Object(N.jsx)(b.a,{field:"asset_allocation",header:"\u8cc7\u7522\u914d\u7f6e\u7387",sortable:!0,body:function(e){return ce(e.asset_allocation)},className:"datatable-column"}),Object(N.jsx)(b.a,{field:"roi",header:"\u6295\u5831\u7387",sortable:!0,body:function(e){return ce(e.roi)},className:"datatable-column"}),Object(N.jsx)(b.a,{field:"asset_money",header:"\u5efa\u8b70\u914d\u7f6e\u91d1\u984d",sortable:!0,body:function(e){return e.asset_money.toLocaleString("en-US",{style:"currency",currency:"USD"})},className:"datatable-column"}),Object(N.jsx)(b.a,{body:function(e){return Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)(p.a,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success p-mr-2",onClick:function(){return function(e){S?(A(Object(l.a)({},e)),L(!0)):ee.current.show({severity:"warn",summary:"Warning",detail:"The money value must be provided",life:3e3})}(e)}}),Object(N.jsx)(p.a,{icon:"pi pi-trash",className:"p-button-rounded p-button-warning",onClick:function(){return function(e){A(e),T(!0)}(e)}})]})},exportable:!1,className:"datatable-column"})]})]}),Object(N.jsxs)(g.a,{visible:F,header:"Stock Details",modal:!0,className:["p-fluid","dialog-width"],footer:ge,onHide:ie,children:[Object(N.jsxs)("div",{className:"p-field",children:[Object(N.jsx)("label",{htmlFor:"code",children:"\u80a1\u7968\u4ee3\u865f"}),Object(N.jsx)(y.a,{id:"code",value:W.code||"",onChange:function(e){return function(e,t){var a=e.target&&e.target.value||"",n=Object(l.a)({},W);n["".concat(t)]=a,A(n)}(e,"code")},required:!0,autoFocus:!0,className:Object(u.h)({"p-invalid":K&&!W.code})}),!W.code&&Object(N.jsx)("small",{className:"p-error",children:"Code is required"})]}),Object(N.jsxs)("div",{className:"p-field",children:[Object(N.jsx)("label",{htmlFor:"confidence",children:"\u4fe1\u5fc3\u5ea6(%)"}),Object(N.jsx)(x.a,{value:W.confidence,options:[{label:"0%",value:0},{label:"20%",value:.2},{label:"40%",value:.4},{label:"60%",value:.6},{label:"80%",value:.8},{label:"100%",value:1}],optionLabel:"label",optionValue:"value",onChange:function(e){var t=Object(l.a)({},W),a=ue(W.id),n=e.value;t.confidence=n;var c=me({confidence:n,win:t.win,loss:t.loss});t.ratio=c,A(t),pe(t,a)},placeholder:"Select a confidence value"})]}),Object(N.jsxs)("div",{className:"p-formgrid p-grid",children:[Object(N.jsxs)("div",{className:"p-field p-col",children:[Object(N.jsx)("label",{htmlFor:"win",children:"\u505c\u5229(%)"}),Object(N.jsx)(v.a,{id:"win",value:W.win,min:1,max:100,onValueChange:function(e){return xe(e,"win")},integeronly:!0}),!W.win&&Object(N.jsx)("small",{className:"p-error",children:"Lock in gain is must greater than 0"})]}),Object(N.jsxs)("div",{className:"p-field p-col",children:[Object(N.jsx)("label",{htmlFor:"loss",children:"\u505c\u640d(%)"}),Object(N.jsx)(v.a,{id:"loss",value:W.loss,min:1,max:100,onValueChange:function(e){return xe(e,"loss")},integeronly:!0}),!W.loss&&Object(N.jsx)("small",{className:"p-error",children:"Stop-loss point is must greater than 0"})]})]})]}),Object(N.jsx)(g.a,{visible:D,className:"dialog-width",header:"Confirm",modal:!0,footer:ye,onHide:le,children:Object(N.jsxs)("div",{className:"confirmation-content",children:[Object(N.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),W&&Object(N.jsxs)("span",{children:["Are you sure you want to delete ",Object(N.jsx)("b",{children:W.code}),"?"]})]})}),Object(N.jsx)(g.a,{visible:R,className:"dialog-width",header:"Confirm",modal:!0,footer:Ne,onHide:oe,children:Object(N.jsxs)("div",{className:"confirmation-content",children:[Object(N.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),W&&Object(N.jsx)("span",{children:"Are you sure you want to delete the selected stocks?"})]})})]})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,83)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))},k=a(82),C=a(80);i.a.render(Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)(k.a,{}),Object(N.jsx)(C.a,{maxWidth:"xl",children:Object(N.jsx)(S,{})})]}),document.getElementById("root")),w()}},[[69,1,2]]]);