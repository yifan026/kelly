(this.webpackJsonpkelly=this.webpackJsonpkelly||[]).push([[0],{62:function(e,t,a){},63:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(13),i=a.n(s),l=(a(62),a(33)),o=a(18),r=a(15),u=a(1),d=a(53),b=a(16),j=a(52),m=a(10),f=a(50),p=a(27),h=a(32),O=a(42),x=a(28),v=(a(63),a(2)),g=function(){var e={id:null,code:"0000",confidence:.2,ratio:0,win:1,loss:1,asset_allocation:0,roi:0,asset_money:0},t=Object(n.useState)([]),a=Object(r.a)(t,2),s=a[0],i=a[1],g=Object(n.useState)(null),y=Object(r.a)(g,2),N=y[0],w=y[1],S=Object(n.useState)(!1),k=Object(r.a)(S,2),C=k[0],F=k[1],L=Object(n.useState)(!1),P=Object(r.a)(L,2),_=P[0],D=P[1],T=Object(n.useState)(!1),U=Object(r.a)(T,2),R=U[0],A=U[1],I=Object(n.useState)(e),M=Object(r.a)(I,2),V=M[0],q=M[1],W=Object(n.useState)(null),H=Object(r.a)(W,2),z=H[0],B=H[1],E=Object(n.useState)(!1),J=Object(r.a)(E,2),Y=J[0],K=J[1],G=Object(n.useState)(null),Q=Object(r.a)(G,2),X=Q[0],Z=Q[1],$=Object(n.useRef)(null),ee=Object(n.useRef)(null),te=function(e){return e.toLocaleString("en-US",{style:"percent"})},ae=function(e){return e.toLocaleString("en-US",{style:"percent",minimumFractionDigits:2})},ne=function(){N?(q(e),le()):$.current.show({severity:"warn",summary:"Warning",detail:"The money value must be provided",life:3e3})},ce=function(){K(!1),F(!1)},se=function(){D(!1)},ie=function(){A(!1)},le=function(){if(V.code){if(K(!0),V.code.trim()){var t=Object(o.a)(s),a=Object(l.a)({},V);if(V.id)t[oe(V.id)]=a,$.current.show({severity:"success",summary:"Successful",detail:"Stock Updated",life:3e3});else a.id=re(),t.push(a),$.current.show({severity:"success",summary:"Successful",detail:"Stock Created",life:3e3});i(t),F(!1),q(e)}}else $.current.show({severity:"warn",summary:"Warning",detail:"The stock code must be provided",life:3e3})},oe=function(e){for(var t=-1,a=0;a<s.length;a++)if(s[a].id===e){t=a;break}return t},re=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<5;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},ue=function(){ee.current.exportCSV()},de=function(){A(!0)},be=function(e){var t=e.confidence-(1-e.confidence)/(e.win/e.loss);return t<0?0:t};function je(e){return e.reduce((function(e,t){return e+t}))}var me=function(e,t){return isNaN(e/je(t))?0:e/je(t)},fe=function(e,t){return e*(1+t)},pe=function(e,t){var a=e.ratio,n=e.confidence,c=Object(o.a)(s);c[t].ratio=a,c[t].confidence=n;var i=c.map((function(e){return e.ratio})),l=me(a,i),r=fe(l,n);e.roi=r,e.asset_allocation=l,e.asset_money=N*l,c[t].roi=r,c[t].asset_allocation=l,c[t].asset_money=N*l,he(c,i,t),q(e)},he=function(e,t,a){for(var n=0;n<e.length;n++)if(n!==a){var c=e[n].ratio,s=e[n].confidence,i=me(c,t),l=fe(i,s);e[n].asset_allocation_value=i,e[n].roi=l,e[n].asset_money=N*i}return e},Oe=function(e,t){var a=e.value||0,n=Object(l.a)({},V),c=oe(V.id);n["".concat(t)]=a,n.ratio=be({confidence:n.confidence,win:n.win,loss:n.loss}),q(n),pe(n,c)},xe=Object(v.jsxs)("div",{className:"table-header",children:[Object(v.jsx)("h5",{className:"p-mx-0 p-my-1",children:"Asset Allocation \u8cc7\u7522\u914d\u7f6e"}),Object(v.jsxs)("span",{className:"p-input-icon-left",children:[Object(v.jsx)(h.a,{id:"inputMoney",placeholder:"Input money...",min:0,value:N,onValueChange:function(e){return w(e.value)},mode:"currency",currency:"USD",locale:"en-US",required:!0,className:Object(u.h)({"p-invalid":!N})}),!N&&Object(v.jsx)("small",{className:"p-error",children:"Money is required."})]}),Object(v.jsxs)("span",{className:"p-input-icon-left",children:[Object(v.jsx)("i",{className:"pi pi-search"}),Object(v.jsx)(x.a,{type:"search",onInput:function(e){return Z(e.target.value)},placeholder:"Search..."})]})]}),ve=Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(m.a,{label:"Cancel",icon:"pi pi-times",className:"p-button-text",onClick:ce}),Object(v.jsx)(m.a,{label:"Save",icon:"pi pi-check",className:"p-button-text",onClick:le})]}),ge=Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(m.a,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:se}),Object(v.jsx)(m.a,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){var t=s.filter((function(e){return e.id!==V.id}));i(t),D(!1),q(e),$.current.show({severity:"success",summary:"Successful",detail:"Stock Deleted",life:3e3})}})]}),ye=Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(m.a,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:ie}),Object(v.jsx)(m.a,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:function(){var e=s.filter((function(e){return!z.includes(e)}));i(e),A(!1),B(null),$.current.show({severity:"success",summary:"Successful",detail:"Stocks Deleted",life:3e3})}})]});return Object(v.jsxs)("div",{className:"datatable-crud-demo",children:[Object(v.jsx)(j.a,{ref:$}),Object(v.jsxs)("div",{className:"card",children:[Object(v.jsx)(f.a,{className:"p-mb-4",left:function(){return Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(m.a,{label:"New",icon:"pi pi-plus",className:"p-button-success p-mr-2",onClick:ne}),Object(v.jsx)(m.a,{label:"Delete",icon:"pi pi-trash",className:"p-button-danger",onClick:de,disabled:!z||!z.length})]})},right:function(){return Object(v.jsx)(c.a.Fragment,{children:Object(v.jsx)(m.a,{label:"Export",icon:"pi pi-upload",className:"p-button-help",onClick:ue})})}}),Object(v.jsxs)(d.a,{ref:ee,value:s,selection:z,onSelectionChange:function(e){return B(e.value)},dataKey:"id",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} stocks",globalFilter:X,header:xe,responsiveLayout:"scroll",children:[Object(v.jsx)(b.a,{selectionMode:"multiple",headerStyle:{width:"3rem"},exportable:!1}),Object(v.jsx)(b.a,{field:"id",header:"ID",sortable:!0,className:"datatable-column",hidden:!0}),Object(v.jsx)(b.a,{field:"code",header:"\u80a1\u7968\u4ee3\u865f",sortable:!0,className:"datatable-column"}),Object(v.jsx)(b.a,{field:"confidence",header:"\u4fe1\u5fc3\u5ea6",sortable:!0,body:function(e){return te(e.confidence)},className:"datatable-column"}),Object(v.jsx)(b.a,{field:"ratio",header:"\u5efa\u8b70\u6bd4\u4f8b",sortable:!0,body:function(e){return te(e.ratio)},className:"datatable-column"}),Object(v.jsx)(b.a,{field:"win",header:"\u505c\u5229",sortable:!0,body:function(e){return te(e.win/100)},className:"datatable-column"}),Object(v.jsx)(b.a,{field:"loss",header:"\u505c\u640d",sortable:!0,body:function(e){return te(e.loss/100)},className:"datatable-column"}),Object(v.jsx)(b.a,{field:"asset_allocation",header:"\u8cc7\u7522\u914d\u7f6e\u7387",sortable:!0,body:function(e){return ae(e.asset_allocation)},className:"datatable-column"}),Object(v.jsx)(b.a,{field:"roi",header:"\u6295\u5831\u7387",sortable:!0,body:function(e){return ae(e.roi)},className:"datatable-column"}),Object(v.jsx)(b.a,{field:"asset_money",header:"\u5efa\u8b70\u914d\u7f6e\u91d1\u984d",sortable:!0,body:function(e){return e.asset_money.toLocaleString("en-US",{style:"currency",currency:"USD"})},className:"datatable-column"}),Object(v.jsx)(b.a,{body:function(e){return Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(m.a,{icon:"pi pi-pencil",className:"p-button-rounded p-button-success p-mr-2",onClick:function(){return function(e){N?(q(Object(l.a)({},e)),F(!0)):$.current.show({severity:"warn",summary:"Warning",detail:"The money value must be provided",life:3e3})}(e)}}),Object(v.jsx)(m.a,{icon:"pi pi-trash",className:"p-button-rounded p-button-warning",onClick:function(){return function(e){q(e),D(!0)}(e)}})]})},exportable:!1,className:"datatable-column"})]})]}),Object(v.jsxs)(O.a,{visible:C,header:"Stock Details",modal:!0,className:["p-fluid","dialog-width"],footer:ve,onHide:ce,children:[Object(v.jsxs)("div",{className:"p-field",children:[Object(v.jsx)("label",{htmlFor:"code",children:"\u80a1\u7968\u4ee3\u865f"}),Object(v.jsx)(x.a,{id:"code",value:V.code||"",onChange:function(e){return function(e,t){var a=e.target&&e.target.value||"",n=Object(l.a)({},V);n["".concat(t)]=a,q(n)}(e,"code")},required:!0,autoFocus:!0,className:Object(u.h)({"p-invalid":Y&&!V.code})}),!V.code&&Object(v.jsx)("small",{className:"p-error",children:"Code is required"})]}),Object(v.jsxs)("div",{className:"p-field",children:[Object(v.jsx)("label",{htmlFor:"confidence",children:"\u4fe1\u5fc3\u5ea6(%)"}),Object(v.jsx)(p.a,{value:V.confidence,options:[{label:"0%",value:0},{label:"20%",value:.2},{label:"40%",value:.4},{label:"60%",value:.6},{label:"80%",value:.8},{label:"100%",value:1}],optionLabel:"label",optionValue:"value",onChange:function(e){var t=Object(l.a)({},V),a=oe(V.id),n=e.value;t.confidence=n;var c=be({confidence:n,win:t.win,loss:t.loss});t.ratio=c,q(t),pe(t,a)},placeholder:"Select a confidence value"})]}),Object(v.jsxs)("div",{className:"p-formgrid p-grid",children:[Object(v.jsxs)("div",{className:"p-field p-col",children:[Object(v.jsx)("label",{htmlFor:"win",children:"\u505c\u5229(%)"}),Object(v.jsx)(h.a,{id:"win",value:V.win,min:1,max:100,onValueChange:function(e){return Oe(e,"win")},integeronly:!0}),!V.win&&Object(v.jsx)("small",{className:"p-error",children:"Lock in gain is must greater than 0"})]}),Object(v.jsxs)("div",{className:"p-field p-col",children:[Object(v.jsx)("label",{htmlFor:"loss",children:"\u505c\u640d(%)"}),Object(v.jsx)(h.a,{id:"loss",value:V.loss,min:1,max:100,onValueChange:function(e){return Oe(e,"loss")},integeronly:!0}),!V.loss&&Object(v.jsx)("small",{className:"p-error",children:"Stop-loss point is must greater than 0"})]})]})]}),Object(v.jsx)(O.a,{visible:_,className:"dialog-width",header:"Confirm",modal:!0,footer:ge,onHide:se,children:Object(v.jsxs)("div",{className:"confirmation-content",children:[Object(v.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),V&&Object(v.jsxs)("span",{children:["Are you sure you want to delete ",Object(v.jsx)("b",{children:V.code}),"?"]})]})}),Object(v.jsx)(O.a,{visible:R,className:"dialog-width",header:"Confirm",modal:!0,footer:ye,onHide:ie,children:Object(v.jsxs)("div",{className:"confirmation-content",children:[Object(v.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),V&&Object(v.jsx)("span",{children:"Are you sure you want to delete the selected stocks?"})]})})]})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,81)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))},N=a(80),w=a(78);i.a.render(Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(N.a,{}),Object(v.jsx)(w.a,{maxWidth:"xl",children:Object(v.jsx)(g,{})})]}),document.getElementById("root")),y()}},[[67,1,2]]]);